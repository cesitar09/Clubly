using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Mvc;
using Kendo.Mvc.Extensions;
using Newtonsoft.Json;
using Kendo.Mvc.UI;
namespace Web.Controllers
{
    public class ReservasController : Controller
    {

        [AcceptVerbs(HttpVerbs.Get | HttpVerbs.Post)]
        public ActionResult ReservarCancha(Models.ReservaCancha reserva)
        {
            return View((IView)null);
        }

        public ActionResult IngresarReservaCancha(Models.ReservaCancha reserva)
        {
            reserva.familia = Models.Familia.buscarId(1);
            reserva.actividad = Models.Actividad.buscarId(reserva.idActividad);
            reserva.cancha = Models.Cancha.buscarId(reserva.idCancha);
            Models.ReservaCancha.Insertar(reserva);
            return View("ReservarCancha", reserva);
        }

        public ActionResult LeerReservasCanchas([DataSourceRequest] DataSourceRequest request)
        {
            IEnumerable<Models.ReservaCancha> listaReservas = Models.ReservaCancha.SeleccionarTodo();
            return Json(listaReservas.ToDataSourceResult(request), JsonRequestBehavior.AllowGet);
        }

        public ActionResult EditarReservaCancha()
        {
            /* IMPLEMENTAR !! */
            return null;
        }

        public ActionResult CancelarReservaCancha()
        {
            /* IMPLEMENTAR !! */
            return null;
        }
    }
}
