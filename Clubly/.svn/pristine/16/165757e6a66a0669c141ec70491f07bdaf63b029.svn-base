using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using Datos;
using System.Collections;
namespace Negocio
{
   public class Persona
    {
        
        public static Entities context()
        {
            return Context.context();
        }

        public static Datos.Persona buscarID(short id) {
           
            return  context().Persona.Single(p => p.id == id);
        }
        public static IEnumerable<Datos.Persona> seleccionarTodo() {
            return context().Persona.Where(persona => persona.estado != 0);
        }
        public static  void modificar(Datos.Persona persona)
        {
            //context().Persona.Attach(context().Persona.Single(p => p.id == persona.id));
            Datos.Persona per = context().Persona.Single(p => p.id == persona.id);
            per.nombre = persona.nombre;
            per.apMaterno = persona.apMaterno;
            per.apPaterno = persona.apPaterno;
            per.direccion = persona.direccion;
            per.dni = persona.dni;
            per.estado = persona.estado;
            per.estadoCivil = persona.estadoCivil;
            context().Persona.ApplyCurrentValues(per);
            context().SaveChanges();
   

        }
        public static void eliminar(Datos.Persona persona) {
            Datos.Persona eliminado = context().Persona.Single(p => p.id == persona.id);
            eliminado.estado = 0;
            context().Persona.ApplyCurrentValues(eliminado);
            context().SaveChanges();
        }
     
    }
}
